#include <bits/stdc++.h>
using namespace std;
int main() {
    int N, Q;
    cin >> N >> Q;
    vector<int> arr(N);
    for (int i = 0; i < N; i++) cin >> arr[i];

    for (int q = 0; q < Q; q++) {
        char type;
        int index1, index2 , max = 0 ,ans;
        cin >> type >> index1 >> index2;

        if (type == 'M') {
            for (int i = index1; i <= index2; i++) {
                int cnt = 1;
                for (int k = i + 1; k <= index2; k++){
                    if (arr[i] == arr[k]){
                        cnt++;
                    }
                }
                if (cnt > max || (cnt == max && arr[i] < arr[ans])) {
                    max = cnt;
                    ans = i;
                }
            }
            cout << arr[ans] << endl;
        } else if (type == 'U') {
            arr[index1] = index2;
        }
    }
    return 0;
}
